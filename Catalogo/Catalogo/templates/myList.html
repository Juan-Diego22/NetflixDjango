{% extends "base.html" %}    
    {% load static %}

    {% block title %} mi lista {% endblock %}
    {% block head %}
    <link rel="stylesheet" href="../static/css/myList.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}
<body>
    
    {% block content %}
        <h1 class="main-title">Mi Lista</h1>

        <!-- SECCIÓN DE BÚSQUEDA -->
        <section class="search-section">
            <div class="search-input-group">
                <input type="text" id="movie-search-input" placeholder="Busca películas para añadir a tus listas...">
                <button id="search-movie-btn" class="search-btn"><i class="fas fa-search"></i></button>
            </div>

            <!-- Contenedor de resultados de búsqueda -->
            <div id="search-results-container" class="search-results-container">
                <p class="initial-msg">Introduce un título para empezar a buscar entre las películas disponibles.</p>
            </div>
            
            <!-- Modal para seleccionar la lista de destino -->
            <div id="add-to-list-modal" class="modal hidden">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>Agregar Película a Lista</h2>
                    <p>Selecciona la lista a la que deseas añadir <strong id="modal-movie-title"></strong>:</p>
                    <div id="modal-list-options" class="modal-list-options">
                    </div>
                    <button id="confirm-add-btn" class="btn-confirm" disabled>Añadir</button>
                </div>
            </div>
        </section>

        <!-- Botón para crear nueva lista -->
        <button id="create-list-btn" class="btn-primary-list">
            <i class="fas fa-plus-circle"></i> Crear Nueva Lista
        </button>
        
        <section id="lists-container" class="lists-grid">
            <p class="loading-msg">Cargando tus listas...</p>
        </section>

        <div id="edit-list-modal" class="modal hidden">
            <div class="modal-content modal-content-edit">
                <span class="close-btn edit-modal-close">&times;</span>
        
                <div class="edit-modal-header">
                    <h2 id="edit-list-name-display">Editar Lista: Nombre de la Lista</h2>
                    <input type="text" id="edit-list-name-input" class="list-name-input" placeholder="Nuevo nombre de la lista">
                    <button id="save-list-name-btn" class="btn-confirm">Guardar Nombre</button>
                </div>
        
                <div class="edit-modal-body">
                    <h3>Películas en la Lista (<span id="movie-count-display">0</span>)</h3>
        
                    <div id="edit-movie-list-container" class="edit-movie-list-container">
                    </div>
        
                </div>
            </div>
        </div>
    {% endblock %}
    {% block scripts %} 
    <script src="../static/js/myList.js"></script>
    <script src="../static/js/script.js"></script>
    {% endblock %}
</body>
</html>